<!DOCTYPE html>
<!-- http://echarts.zhangmuchen.top/#/detail?cid=xFJL-TEbNv -->
<html style="height: 100%; width: 100%">
  <head>
    <meta charset="utf-8" />
  </head>
  <body style="height: 100%; width: 100%; margin: 0">
    <!-- <div id="chart-panel" style="height: 170px; width: 108px"></div> -->
    <div id="chart-panel" style="height: 100%; width: 100%"></div>
    <script type="text/javascript" src="../js/echarts@5.2.0.min.js"></script>

    <script type="text/javascript">
      var dom = document.getElementById("chart-panel");
      var myChart = echarts.init(dom);
      var option;
      var app = {};
      var urlParams = new URLSearchParams(location.search);
      let paramsValue = urlParams.get("value");
      var xData = ["递铺街道"];
      var data1 = [Number(paramsValue)]; //下面实体部分
      var data2 = [100 - Number(paramsValue)]; //上面虚体部分
      var data3 = [];
      for (let i = 0; i < data1.length; i++) {
        data3.push(data1[i] + data2[i]);
      }
      var option = {
        // backgroundColor: '#030446',
        // tooltip: {
        //   trigger: "axis",
        //   axisPointer: {
        //     type: "shadow", // 默认为直线，可选为：'line' | 'shadow'
        //   },

        //   formatter: function (parms) {
        //     var str =
        //       "名称：" +
        //       parms[0].axisValue +
        //       "</br>" +
        //       parms[0].marker +
        //       "结案量：" +
        //       parms[0].value +
        //       "</br>" +
        //       parms[1].marker +
        //       "未结案量：" +
        //       parms[1].value;
        //     return str;
        //   },
        // },
        textStyle: {
          color: "#C9C9C9",
        },
        color: ["#40ecec", "#40ecec", "#3abcc1"], //从下往上圆的颜色
        grid: {
          containLabel: true,
          left: "-40%",
          top: "28%",
          bottom: "-10%",
          right: "0%",
        },
        xAxis: {
          type: "category",
          data: xData,
          axisLine: {
            lineStyle: {
              color: "#B5B5B5",
            },
          },
          axisTick: {
            show: false,
          },
          axisLabel: {
            margin: 20, //刻度标签与轴线之间的距离。
            textStyle: {
              fontFamily: "Microsoft YaHei",
              color: "#C9C9C9",
            },
          },
          show: false,
        },
        yAxis: {
          type: "value",
          axisLine: {
            show: true,
            lineStyle: {
              color: "#B5B5B5",
            },
          },
          splitLine: {
            lineStyle: {
              // 使用深浅的间隔色
              color: ["#B5B5B5"],
              type: "dashed",
              opacity: 0.5,
            },
          },
          axisLabel: {},
          show: false,
        },
        series: [
          {
            name: "下部柱子",
            data: data1,
            stack: "zs",
            type: "bar",
            barMaxWidth: "auto",
            barWidth: 40,
            itemStyle: {
              color: {
                x: 0,
                y: 0,
                x2: 1,
                y2: 0,
                type: "linear",
                global: false,
                colorStops: [
                  {
                    offset: 0,
                    color: "#1D7A79",
                  },
                  {
                    offset: 0.25,
                    color: "#1F7F80",
                  },
                  {
                    offset: 0.5,
                    color: "#2DB8B9",
                  },
                  {
                    offset: 0.75,
                    color: "#22FAFB",
                  },
                  {
                    offset: 1,
                    color: "#3CF1F2",
                  },
                ],
              },
            },
          },
          {
            name: "上部柱子",
            data: data2,
            stack: "zs",
            type: "bar",
            barMaxWidth: "auto",
            barWidth: 40,
            itemStyle: {
              color: {
                x: 0,
                y: 0,
                x2: 0,
                y2: 1,
                type: "linear",
                global: false,
                colorStops: [
                  {
                    offset: 0,
                    color: "rgba(59, 104, 113, 0.5)",
                  },
                  {
                    offset: 0.25,
                    color: "rgba(56, 108, 119, 0.5)",
                  },
                  {
                    offset: 0.5,
                    color: "rgba(64, 136, 147, 0.5)",
                  },
                  {
                    offset: 0.75,
                    color: "rgba(57, 119, 126, 0.5)",
                  },
                  {
                    offset: 1,
                    color: "rgba(53, 130, 139, 0.5)",
                  },
                ],
              },
            },
          },
          {
            name: "下部底部圆",
            data: [1, 1, 1, 1, 1, 1, 1],
            type: "pictorialBar",
            barMaxWidth: "20",
            symbolOffset: [0, "50%"],
            symbolSize: [40, 15],
            zlevel: 2,
            itemStyle: {
              color: {
                x: 0,
                y: 0,
                x2: 1,
                y2: 0,
                type: "linear",
                global: false,
                colorStops: [
                  {
                    offset: 0,
                    color: "#1D7A79",
                  },
                  {
                    offset: 0.25,
                    color: "#1F7F80",
                  },
                  {
                    offset: 0.5,
                    color: "#2DB8B9",
                  },
                  {
                    offset: 0.75,
                    color: "#3AE9EA",
                  },
                  {
                    offset: 1,
                    color: "#3CF1F2",
                  },
                ],
              },
            },
          },
          {
            name: "下部顶部圆",
            data: data1,
            type: "pictorialBar",
            barMaxWidth: "20",
            symbolPosition: "end",
            symbolOffset: [0, "-50%"],
            symbolSize: [40, 12],
            zlevel: 2,
          },
          {
            name: "上部底部圆",
            data: data1,
            type: "pictorialBar",
            barMaxWidth: "20",
            symbolPosition: "end",
            symbolOffset: [0, "-50%"],
            symbolSize: [40, 12],
            zlevel: 2,
          },
          {
            name: "上部顶部圆",
            data: data3,
            type: "pictorialBar",
            barMaxWidth: "20",
            symbolPosition: "end",
            symbolOffset: [0, "-50%"],
            symbolSize: [40, 12],
            zlevel: 2,
            label: {
              normal: {
                formatter: function (parms) {
                  var str = data1[0] + "%";
                  return str;
                },
                show: true,
                position: "top",
                fontSize: 14,
                fontWeight: "bold",
                color: "#E6F7FF",
                // offset: [0, -25],
                backgroundColor: {
                  image: "../images/back.png",
                },
                height: 20,
                padding: [5, 10, 5, 11],
              },
            },
          },
        ],
      };

      if (option && typeof option === "object") {
        myChart.setOption(option);
      }
    </script>
  </body>
</html>
